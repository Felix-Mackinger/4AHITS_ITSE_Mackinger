---
title: "ITSE Netscan"
author: "Felix Mackinger"
klasse: "4AHITS"
subject: "ITSE"
date: "2025-10-13"
---


# nmap — wichtige Befehle & Optionen

> `nmap`: ist ein Netzwerk‑Scan‑Tool, das Hosts im Netzwerk erkennt und detailliert offene Ports, laufende Dienste (inkl. Versionen) und optional Betriebssysteminformationen ermittelt

<details>
<summary>nmap Befehle</summary>

```bash
# Einfacher Portscan (Standard-Scan der 1000 häufigsten Ports)
nmap 192.0.2.10
```
* Scannt Standard‑TCP‑Ports und zeigt offene Ports an.


```bash
# Ping-Scan (nur Hosts "alive" prüfen, keine Ports)
nmap -sn 192.0.2.0/24
```
* Nutze, um herauszufinden, welche Hosts im Subnetz erreichbar sind.


```bash
# TCP SYN (Stealth) Scan — schneller, häufig verwendeter Portscan (root)
sudo nmap -sS target.example.com
```
* Halböffnender Scan (SYN). Schneller als vollständiger Connect‑Scan und oft weniger protokolliert.


```bash
# Versionserkennung der Services
sudo nmap -sV target.example.com
```
* Versucht, Dienstnamen & Versionen (z. B. nginx 1.18) zu ermitteln.


```bash
# OS-Erkennung
sudo nmap -O target.example.com
```
* Versucht, das Betriebssystem zu bestimmen (Fingerprinting). Genauigkeit variiert.


```bash
# Aggressiver Scan (sV + OS + Skripte + Traceroute)
sudo nmap -A target.example.com
```
* Kombination von mehreren Techniken; liefert viel Info, ist aber auffälliger.


```bash
# UDP-Scan (langsam, oft viele False‑Positives)
sudo nmap -sU target.example.com
```
* Prüft UDP‑Ports; dauert länger und kann mehr Fehlalarme erzeugen.


```bash
# Nur bestimmte Ports scannen
nmap -p 22,80,443 target.example.com
# oder Bereich:
nmap -p 1-1000 target.example.com
```

```bash
# Top N häufige Ports
nmap --top-ports 100 target.example.com
```

```bash
# Keine Host-Erreichbarkeitsprüfung (tut so, als wären Hosts 'up')
nmap -Pn target.example.com
```
* Nützlich, wenn ICMP/ARP geblockt ist oder Hosts nicht auf Ping antworten.
</details>



---

# ping — wichtige Befehle & Optionen

> `ping` ist einfach: sendet ICMP Echo Request, wertvoll zum schnellen Erreichbarkeitscheck.

<details>
<summary>ping Befehle</summary>

```bash
# Einfache Nutzung (Linux/macOS)
ping 192.0.2.10
# Windows: ping läuft 4 Pakete und stoppt automatisch
```

```bash
# Anzahl der Echos (Linux/macOS)
ping -c 4 192.0.2.10
```

```bash
# Intervall zwischen Paketen (Sekunden)
ping -i 0.5 192.0.2.10   # 0.5s Abstand (root erforderlich für <0.2s)
```

```bash
# Paketgröße (Bytes)
ping -s 1400 192.0.2.10
```

```bash
# Timeout für Antwort in Sekunden (Linux)
ping -W 2 192.0.2.10    # wartet max. 2 Sekunden pro Paket
```

```bash
# Gesamtdauer (Deadline) bis zum Stoppen
ping -w 10 192.0.2.10   # nach 10 Sekunden stoppen
```

```bash
# Leiser Modus — nur Zusammenfassung
ping -q -c 4 192.0.2.10
```

```bash
# Flood ping (sehr aggressiv, root; NICHT ohne Erlaubnis verwenden)
sudo ping -f 192.0.2.10
```

```bash
# IPv6 ping (Linux: ping6 oder ping -6)
ping6 2001:db8::1
# oder
ping -6 2001:db8::1
```
</details>

# Kurze Zusammenfassung / Wann welches Tool?

* `ping`: schnell prüfen, ob ein Host erreichbar ist (ICMP). Einfach, sofort.
* `nmap`: detaillierte Inventarisierung (offene Ports, Dienste, Versionen, OS, Scripting). Für tiefergehende Netzwerkerkundung/Prüfung.

# Sicherheit & Legalität

Scans und Floods können als Angriff gewertet werden. Führe sie nur in deinem Netzwerk oder mit ausdrücklicher Erlaubnis des Betreibers durch.

---

# Host Discovery

## Übung (ping)
Als host discovery (host scanning) versteht man den Vorgang um unbekannte Geräte in einem Netzwerk zu finden, bzw. festzustellen ob bekannte Geräte im Netzwerk erreichbar sind.

Das einfachste Werkzeug dafür ist ping.

- 1. Verwende Kali und Metasploitable im Bridged Mode (Bridge ins Labor-Netzwerk)


IPv4 Addresse und Route
```sh
$ ip -4 addr show
$ ip -4 route show
```
```sh
IP Kali             192.168.12.51
IP Metasploitable   192.168.12.52
```
```sh
┌──(kali㉿kali)-[~]
└─$ ip -4 addr show
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    inet 192.168.12.51/24 brd 192.168.12.255 scope global dynamic noprefixroute eth0
       valid_lft 169301sec preferred_lft 169301sec

┌──(kali㉿kali)-[~]
└─$ ip -4 route show
default via 192.168.12.254 dev eth0 proto dhcp src 192.168.12.51 metric 100 
192.168.12.0/24 dev eth0 proto kernel scope link src 192.168.12.51 metric 100 
```
- 2. Experimentiere mit ping im Labor-Netzwerk (Metasploitable, Default Gateway, …)

Ping Test

```sh
┌──(kali㉿kali)-[~]
└─$ sudo ping 192.168.12.52  
[sudo] password for kali: 
PING 192.168.12.52 (192.168.12.52) 56(84) bytes of data.
64 bytes from 192.168.12.52: icmp_seq=1 ttl=64 time=0.872 ms
64 bytes from 192.168.12.52: icmp_seq=2 ttl=64 time=0.505 ms
64 bytes from 192.168.12.52: icmp_seq=3 ttl=64 time=0.503 ms
64 bytes from 192.168.12.52: icmp_seq=4 ttl=64 time=1.64 ms
64 bytes from 192.168.12.52: icmp_seq=5 ttl=64 time=1.71 ms
64 bytes from 192.168.12.52: icmp_seq=6 ttl=64 time=1.76 ms
64 bytes from 192.168.12.52: icmp_seq=7 ttl=64 time=1.61 ms
64 bytes from 192.168.12.52: icmp_seq=8 ttl=64 time=0.357 ms
64 bytes from 192.168.12.52: icmp_seq=9 ttl=64 time=1.65 ms
64 bytes from 192.168.12.52: icmp_seq=10 ttl=64 time=0.661 ms
64 bytes from 192.168.12.52: icmp_seq=11 ttl=64 time=1.70 ms
^C
--- 192.168.12.52 ping statistics ---
11 packets transmitted, 11 received, 0% packet loss, time 10832ms
rtt min/avg/max/mdev = 0.357/1.178/1.755/0.560 ms
```
```sh
┌──(kali㉿kali)-[~]
└─$ ping -q -c 6 192.168.12.254 
PING 192.168.12.254 (192.168.12.254) 56(84) bytes of data.
 
--- 192.168.12.254 ping statistics ---
6 packets transmitted, 6 received, 0% packet loss, time 5476ms
rtt min/avg/max/mdev = 0.578/1.058/1.522/0.349 ms
```
```sh
┌──(kali㉿kali)-[~]
└─$ ping -w 2 192.168.12.52
PING 192.168.12.52 (192.168.12.52) 56(84) bytes of data.
64 bytes from 192.168.12.52: icmp_seq=1 ttl=64 time=0.485 ms
64 bytes from 192.168.12.52: icmp_seq=2 ttl=64 time=0.378 ms

--- 192.168.12.52 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1127ms
rtt min/avg/max/mdev = 0.378/0.431/0.485/0.053 ms
```
```sh
┌──(kali㉿kali)-[~]
└─$ sudo ping -f 192.168.12.52
PING 192.168.12.52 (192.168.12.52) 56(84) bytes of data.
.^C
--- 192.168.12.52 ping statistics ---
52342 packets transmitted, 52341 received, 0.00191051% packet loss, time 29948ms
rtt min/avg/max/mdev = 0.119/0.530/2486.797/10.920 ms, pipe 2, ipg/ewma 0.572/0.485 ms
```
```sh
┌──(kali㉿kali)-[~]
└─$ ping -s 22222 192.168.12.52
PING 192.168.12.52 (192.168.12.52) 22222(22250) bytes of data.
22230 bytes from 192.168.12.52: icmp_seq=1 ttl=64 time=1.57 ms
22230 bytes from 192.168.12.52: icmp_seq=2 ttl=64 time=6.27 ms
22230 bytes from 192.168.12.52: icmp_seq=3 ttl=64 time=1.93 ms
22230 bytes from 192.168.12.52: icmp_seq=4 ttl=64 time=5.80 ms
22230 bytes from 192.168.12.52: icmp_seq=5 ttl=64 time=1.74 ms
22230 bytes from 192.168.12.52: icmp_seq=6 ttl=64 time=5.51 ms
22230 bytes from 192.168.12.52: icmp_seq=7 ttl=64 time=6.27 ms
22230 bytes from 192.168.12.52: icmp_seq=8 ttl=64 time=1.90 ms
22230 bytes from 192.168.12.52: icmp_seq=9 ttl=64 time=1.60 ms
^C
--- 192.168.12.52 ping statistics ---
9 packets transmitted, 9 received, 0% packet loss, time 8767ms
rtt min/avg/max/mdev = 1.568/3.620/6.273/2.108 ms

```

- 3. Recherchiere zu den Optionen von ping, erstelle ein kleines Cheat Sheet



- 4. Welchen Netzwerkdienst verwendet der ping Dienst? Recherchiere wie Firewalls häufig mit ping umgehen.



## Übung (ping script)
Schreibe ein shell Skript das automatisiert (Schleife) alle Hosts im subnet anpingt. Die Ausgabe soll so sein, dass man daraus die aktiven Hosts erkennen kann (für nicht aktive Hosts soll keine Ausgabe sein).






## Info (nmap)
Nmap: the Network Mapper - Free Security Scanner

Dieses Tool dient dazu aktive Hosts in Netzwerken zu ermitteln (Host Discovery) und diese weiters auf angebotene Dienste zu durchforsten (Port Scan). nmap erzeugt dafür eine große Menge an Netzwerk Paketen und wertet die Rückantworten aus.

Nmap (“Network Mapper”) is an open source tool for network exploration and security auditing. It was designed to rapidly scan large networks, although it works fine against single hosts.

One of Nmap’s most exciting new features is the Nmap Scripting Engine, which extends Nmap’s functionality using the simple and efficient Lua programming language. … you can also write your own

Wird gerne in Filmen verwendet wenn es um Hacking geht (Nmap In The Movies)

## Übung (host discovery)
nmap ist ein Tool zum network scanning. In einer ersten Phase (host discovery, ping scan oder ping sweep) ermittelt nmap alle aktiven Hosts.

Aufgaben:

Recherchiere zur grundlegenden Anwendung von nmap für einen sogenannten ping scan (host discovery).
Ermittle alle aktiven Hosts im Subnetz des Labor-Netzwerks mit nmap.
Hinweise:

nmap benötigt als Argument den IP Adressbereich des Subnet in Präfix Notation (z.B.: 192.168.178.0/24)
Mit der Option -sn führt nmap nur den ping scan durch (ansonsten wird automtisch auch die nächste, länger dauernde, Phase des scans ausgeführt – siehe folgende Übung)


```sh
┌──(kali㉿kali)-[~]
└─$ nmap -sn 192.168.12.0/24
Starting Nmap 7.95 ( https://nmap.org ) at 2025-10-13 07:10 EDT
Nmap scan report for 192.168.12.50
Host is up (0.00082s latency).
MAC Address: 60:A4:B7:75:6F:75 (TP-Link Limited)
Nmap scan report for 192.168.12.52
Host is up (0.0017s latency).
MAC Address: 00:0C:29:75:65:7D (VMware)
Nmap scan report for 192.168.12.254
Host is up (0.0011s latency).
MAC Address: 1C:DF:0F:CA:41:01 (Cisco Systems)
Nmap scan report for 192.168.12.51
Host is up.
Nmap done: 256 IP addresses (4 hosts up) scanned in 2.26 seconds
```