---
title: "ITSE Port probing und scanning"
author: "Felix Mackinger"
klasse: "4AHITS"
subject: "ITSE"
date: "2025-11-24"
---

# Theorie


## Portscans ‚Äì Grundlagen und Bedeutung

Ein Portscan ist eine Technik, mit der √ºberpr√ºft wird, welche Netzwerkports
auf einem Zielsystem erreichbar, offen oder geschlossen sind. Jeder Port
repr√§sentiert dabei einen m√∂glichen Zugangspunkt zu einem Dienst oder einer
Anwendung (z. B. Webserver, FTP, SSH).
Angreifer nutzen Portscans, um Schwachstellen zu finden. Administratoren
verwenden dieselben Methoden, um Systeme zu √ºberpr√ºfen und abzusichern.
Der Scan selbst ist also neutral ‚Äì entscheidend ist die Absicht.

---

## Warum gibt es Ports?

Ein Computer kann mehrere Netzwerkdienste gleichzeitig betreiben.  
Ports sorgen daf√ºr, dass Daten beim richtigen Dienst landen.

Beispiele:

- Port **80** ‚Üí HTTP

- Port **443** ‚Üí HTTPS

- Port **22** ‚Üí SSH

- Port **21** ‚Üí FTP

---

## Scan-Arten

### üîπ TCP Connect Scan

- Verwendet den kompletten 3-Way-Handshake (SYN ‚Üí SYN/ACK ‚Üí ACK).  

- Sehr zuverl√§ssig, aber leicht erkennbar.  

- Tools: `nmap -sT`



### üîπ SYN Scan (Half-Open Scan)

- Sendet nur SYN.
- Bricht den Handshake nach SYN/ACK ab.
- Schneller und stealthiger.
- Tools: `nmap -sS`

### üîπ UDP Scan

- Testet UDP-Ports (z. B. DNS, DHCP).
- Weniger eindeutig, oft langsamer.
- Tools: `nmap -sU`

---

## Port-Zust√§nde

- **open**: Dienst aktiv erreichbar.

- **closed**: Port antwortet, aber kein Dienst l√§uft.

- **filtered**: Firewall blockiert die Antwort.

- **unfiltered**: Antwort m√∂glich, Zustand aber nicht eindeutig.

- **open|filtered**: Scantyp kann nicht unterscheiden (h√§ufig bei UDP).

---

## Nmap ‚Äì wichtigstes Portscan-Tool

`nmap` ist ein Open-Source-Netzwerkscanner, der Ports, Dienste und
Betriebssysteme analysieren kann.

Wichtige Beispiele:

````sh
nmap 

nmap -sS 

nmap -p 1-1000 

nmap -A 
````
 
---

## Sicherheit & Legalit√§t

Ein Scan des **eigenen Netzwerks** oder eines **erlaubten Labors** ist okay.    
Scans fremder Systeme **ohne Zustimmung** sind strafbar.  
Ein Portscan selbst ver√§ndert nichts am Zielsystem, liefert aber wichtige  
Informationen f√ºr weitere Angriffe ‚Äì deswegen immer verantwortungsvoll nutzen.  

---
 


# √úbungen

## √úbung (port probing)
Beim port probing m√∂chte man herausfinden ob auf einem gewissen port ein Dienst l√§uft, welcher Dienst dies ist und (wenn m√∂glich) mehr Details wie z.B. Versionsnummern. Diese Information dient als Basis f√ºr weitere Angriffe.

telnet, nc (netcat) und curl sind einfache Tools die zum port probing verwendet werden k√∂nnen. Teilweise ist es auch m√∂glich die kontaktierten Dienste dazu zu veranlassen mehr Informationen √ºber sich preiszugeben (banner grabbing).

Verwende telnet um festzustellen ob ein ssh Server auf Metasploitable l√§uft
Finde Bezeichnung und die Versionsnummer des Web Servers auf Metasploitable heraus. Auf 3 unterschiedliche Arten:
Verwende telnet
Verwende nc (netcat)
Hinweis: der notwendige http request header kann am besten mit Hilfe eines Shell here-documents beschrieben werden.
Verwende curl
Erstelle ein port probing cheat sheet f√ºr alle 3 Tools






## √úbung (netcat port scan)
Ermittle mit Hilfe von netcat welche Ports zwischen 1 und 30 in der Metasploitable VM ge√∂ffnet sind ‚Äì Hinweis: dies geht in einer einzigen Kommandozeile. Beschreibe kurz jeden gefundenen Dienst.

Randnotitz: netcat wird auch gerne als das swiss army knife of network tools bezeichnet.





## √úbung (nmap port scan)
Nach dem ping scan (und wenn nicht die Option -sn angegeben ist) f√ºhrt nmap automatisch einen port scan auf allen gefundenen hosts aus. Dabei wird versucht alle offenen Ports eines Hosts zu finden. Das Ziel ist eine Liste der am Host laufenden Dienste zu erhalten.

Hinweise: Man kann eine einzelne IP Adresse angeben, dann wird nur diese gescannt, z.B.: nmap 192.168.178.42

Siehe List of TCP and UDP port numbers

Aufgaben:

F√ºhre einen port scan auf die Metasploitable VM durch. Analysiere das Ergebnis.

Experimentiere mit den Optionen f√ºr (Victim ist Metasploitable VM):
Scannen aller m√∂glichen Ports. Macht das bei Metasploitable, verglichen zum Default Verhalten, einen Unterschied?
√úberspringen Ping-Scan/Host-Discovery. Warum kann diese Option notwendig sein?
Service/Version Detection
OS Erkennung
Aggressive Scan
Timing/Speed
Ausgabe in Dateien
die Option --reason
nur die N h√§ufigsten Ports scannen (dokumentiere den Geschwindigkeitsgewinn)
F√ºhre weitere port scans durch, auf:
einem Kali Linux auf einem anderen Rechner
einem Windows System
dem Default Gateway im Labor Netz
Was kann alles mit einem port scan herausgefunden werden? Dokumentiere!



## √úbung (nmap cheat sheet)
Erstelle ein Cheat Sheet mit allen nmap Optionen die du verwendet hast und jenen die du f√ºr wichtig erachtest. Erstelle das cheat sheet so, dass es dir sp√§ter als Nachschlagewerk dienen kann.




